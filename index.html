<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Shop Assistant — Right Panel</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="widget.css" />
</head>
<body>
  <!-- RIGHT-SIDE PANEL WIDGET -->
  <div id="mascot-panel" class="mascot-panel closed" aria-hidden="true">
    <div class="panel-handle">
      <div class="brand">
        <div class="logo">SA</div>
        <div class="meta">
          <div class="title">Shop Assistant</div>
          <div class="status" id="shop-status">Online</div>
        </div>
      </div>
      <div class="panel-actions">
        <button id="minimize-btn" class="small-btn" title="Minimize">—</button>
        <button id="close-btn" class="small-btn" title="Close">✕</button>
      </div>
    </div>

    <div class="panel-body">
      <div class="left-column">
        <div class="avatar-slot">
          <div id="avatar-container" class="avatar-container">
            <div id="avatar-loader" class="avatar-loader">Avatar</div>
          </div>

          <div class="avatar-actions">
            <button id="upload-btn" class="icon-ghost" title="Upload Mascot">⬆️</button>
            <input id="mascot-upload" type="file" accept="image/*" style="display:none" />
            <button id="mute-btn" class="icon-ghost" title="Mute/Unmute">🔊</button>
          </div>
        </div>

        <div class="info-cards">
          <div class="card">
            <div class="card-title">Quick Actions</div>
            <div class="chip-row">
              <button class="chip">Shipping</button>
              <button class="chip">Returns</button>
              <button class="chip">Sizes</button>
            </div>
          </div>
          <div class="card small">
            <div class="card-title">Visitor</div>
            <div class="card-body">Anonymous</div>
          </div>
        </div>
      </div>

      <div class="right-column">
        <div id="chat-body" class="messages" aria-live="polite"></div>

        <div class="composer">
          <input id="chat-input" type="text" placeholder="Ask about products, orders, shipping..." />
          <div class="composer-actions">
            <button id="attach-btn" class="compose-btn" title="Attach">📎</button>
            <button id="send-btn" class="compose-send" title="Send">Send</button>
          </div>
        </div>
      </div>
    </div>

    <div class="panel-footer">
      <div class="footer-left">Powered by <strong>YourBrand</strong></div>
      <div class="footer-right">
        <button id="open-store-btn" class="ghost">Open in Store</button>
      </div>
    </div>
  </div>

  <!-- Floating slim toggle on page right -->
  <button id="mascot-toggle" class="mascot-toggle" aria-expanded="false" aria-controls="mascot-panel">
    <span class="toggle-dot"></span>
    <span class="toggle-text">Assistant</span>
  </button>

  <!-- Example merchant snippet (give this to stores when ready):
  <script src="https://<your-vercel-domain>.vercel.app/widget.js"
          data-backend="https://api.your-backend.com/api/chat"
          data-store-id="{{ shop.id }}"></script>
  -->

  <!-- Local load for testing -->
  <script src="widget.js"></script>
</body>
</html>
